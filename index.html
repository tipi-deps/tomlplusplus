<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8"/>
  <title>toml++ TOML for C++</title>
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" rel="stylesheet"/>
  <link href="m-dark+documentation.compiled.css" rel="stylesheet"/>
  <link href="favicon.ico" rel="icon" type="image/vnd.microsoft.icon"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="#22272e" name="theme-color"/>
  <meta content="toml++" name="twitter:title"/>
  <meta content="toml++" property="og:title"/>
  <meta content="toml++" itemprop="name"/>
  <meta content="Mark Gillard" name="author"/>
  <meta content="Mark Gillard" property="article:author"/>
  <meta content="TOML for C++" name="description"/>
  <meta content="TOML for C++" name="twitter:description"/>
  <meta content="TOML for C++" property="og:description"/>
  <meta content="TOML for C++" itemprop="description"/>
  <meta content="telephone=no" name="format-detection"/>
  <meta content="Poxy v0.5.5" name="generator"/>
  <meta content="no-referrer-when-downgrade" name="referrer"/>
  <meta content="gbtcNgKlNiPSMKkYMw4zWFVWGPH_oU93m9n_-nb4qK8" name="google-site-verification"/>
  <script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "Article",
    "dateModified": "2022-04-29T12:36:16+00:00",
    "headline": "toml++ TOML for C++"
}</script>
  <link href="poxy-0.5.5.css" rel="stylesheet"/>
  <link href="poxy-0.5.5-dark.css" rel="stylesheet"/>
  <script src="poxy-0.5.5.js"></script>
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a class="m-col-t-8 m-col-m-none m-left-m" href="index.html" id="m-navbar-brand"><img alt="" src="logo.png"/>toml++ <span class="m-thin">TOML for C++</span></a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a class="m-doc-search-icon" href="#search" onclick="return showSearch()" title="Search"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z" id="m-doc-search-icon-path"></path>
        </svg></a>
        <a href="#navigation" id="m-navbar-show" title="Show navigation"></a>
        <a href="#" id="m-navbar-hide" title="Hide navigation"></a>
      </div>
      <div class="m-col-t-12 m-show-m m-col-m-none m-right-m" id="m-navbar-collapse">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="namespaces.html">Namespaces</a></li>
            <li><a href="annotated.html">Classes</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a class="github poxy-external" href="https://github.com/marzer/tomlplusplus/" target="_blank">Github</a></li>
            <li class="m-show-m"><a class="m-doc-search-icon" href="#search" onclick="return showSearch()" title="Search"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path"></use>
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <img alt="Image" class="m-image main_page_banner" src="banner_small.png" style="width: 1280px;"/><div class="gh-badges"><a class="poxy-external" href="https://github.com/marzer/tomlplusplus/blob/master/LICENSE" target="_blank"><img alt="MIT" src="poxy-badge-license-mit.svg"/></a><a class="poxy-external" href="https://github.com/marzer/tomlplusplus/releases" target="_blank"><img alt="Releases" src="https://img.shields.io/github/v/release/marzer/tomlplusplus?style=flat-square"/></a><a class="poxy-external" href="https://en.cppreference.com/w/cpp/compiler_support" target="_blank"><img alt="C++17" src="poxy-badge-c++17.svg"/></a><a class="poxy-external" href="https://en.cppreference.com/w/cpp/compiler_support" target="_blank"><img alt="1. C++20" src="badge-C++20.svg"/></a><a class="poxy-external" href="https://toml.io/en/v1.0.0" target="_blank"><img alt="2. TOML v1.0.0" src="badge-TOML.svg"/></a><a class="poxy-external" href="https://github.com/marzer/tomlplusplus/actions/workflows/ci.yaml" target="_blank"><img alt="3. CI" src="https://github.com/marzer/tomlplusplus/actions/workflows/ci.yaml/badge.svg?branch=master"/></a><a class="poxy-external" href="https://github.com/fffaraz/awesome-cpp" target="_blank"><img alt="4. Mentioned in Awesome C++" src="badge-awesome.svg"/></a></div>
        <nav class="m-block m-default poxy-toc">
          <h3>Contents</h3>
          <ul>
            <li><a href="#mainpage-features">Features</a></li>
            <li><a href="#mainpage-api-documentation">API documentation</a></li>
            <li>
              <a href="#mainpage-example">Basic examples</a>
              <ul>
                <li><a href="#mainpage-example-parsing-files">Parsing files</a></li>
                <li><a href="#mainpage-example-parsing-strings">Parsing strings and iostreams</a></li>
                <li><a href="#mainpage-example-parsing-without-exceptions">Handling errors without exceptions</a></li>
                <li><a href="#mainpage-example-custom-error-formatting">Custom error formatting</a></li>
                <li><a href="#mainpage-example-manipulations">Working with TOML data</a></li>
                <li><a href="#mainpage-example-serialization">Serializing as TOML, JSON and YAML</a></li>
                <li><a href="#mainpage-example-speed-up-compilation">Speeding up compilation</a></li>
              </ul>
            </li>
            <li>
              <a href="#mainpage-adding-lib">Adding toml++ to your project</a>
              <ul>
                <li><a href="#mainpage-adding-lib-old-school">"The old fashioned way"</a></li>
                <li><a href="#mainpage-adding-lib-conan">Conan</a></li>
                <li><a href="#mainpage-adding-lib-dds">DDS</a></li>
                <li><a href="#mainpage-adding-lib-meson">Meson</a></li>
                <li><a href="#mainpage-adding-lib-tipi">Tipi.build</a></li>
                <li><a href="#mainpage-adding-lib-vcpkg">Vcpkg</a></li>
                <li><a href="#mainpage-adding-lib-cmake-fetch-content">CMake FetchContent</a></li>
                <li><a href="#mainpage-adding-lib-git-submodules">Git submodules</a></li>
                <li><a href="#mainpage-adding-lib-other">Other environments and package managers</a></li>
                <li><a href="#mainpage-adding-lib-python">Special mention: Python</a></li>
              </ul>
            </li>
            <li><a href="#mainpage-configuration">Library configuration options</a></li>
            <li><a href="#mainpage-contributing">Contributing</a></li>
            <li><a href="#mainpage-license">License</a></li>
            <li><a href="#mainpage-contact">Contacting the author</a></li>
          </ul>
        </nav>
<section id="mainpage-features"><h2><a href="#mainpage-features">Features</a></h2><ul><li>Header-only (optional!)</li><li>Supports the latest <a class="poxy-external" href="https://toml.io/" target="_blank">TOML</a> release (<a class="poxy-external" href="https://toml.io/en/v1.0.0" target="_blank">v1.0.0</a>), plus optional support for some unreleased TOML features</li><li>Passes all tests in the <a class="poxy-external" href="https://github.com/BurntSushi/toml-test" target="_blank">toml-test</a> suite</li><li>Supports serializing to JSON and YAML</li><li>Proper UTF-8 handling (incl. BOM)</li><li>C++17 (plus some C++20 features where available, e.g. experimental support for <a class="m-doc poxy-injected poxy-external" href="https://en.cppreference.com/w/cpp/language/types#Character_types" target="_blank">char8_t</a> strings)</li><li>Doesn't require RTTI</li><li>Works with or without exceptions</li><li>Tested on Clang (6+), GCC (7+) and MSVC (VS2019)</li><li>Tested on x64, x86 and ARM</li></ul></section><section id="mainpage-api-documentation"><h2><a href="#mainpage-api-documentation">API documentation</a></h2><p>You're looking at it! Browse the docs using the links at the top of the page. You can search from anywhere by pressing the TAB key.</p></section><section id="mainpage-example"><h2><a href="#mainpage-example">Basic examples</a></h2><section id="mainpage-example-parsing-files"><h3><a href="#mainpage-example-parsing-files">Parsing files</a></h3><p>Call <a class="m-doc" href="namespacetoml.html#a8dbc58dad43c3b66f4476a7131f5741a">toml::<wbr/>parse_file()</a> and work with the <a class="m-doc" href="classtoml_1_1table.html">toml::<wbr/>table</a> you get back, or handle any <a class="m-doc" href="classtoml_1_1parse__error.html">toml::<wbr/>parse_error</a> that gets thrown:</p><pre class="m-code"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;toml++/toml.h&gt;</span>

<span class="k">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="k">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="k">char</span><span class="o">**</span><span class="w"> </span><span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="ns">toml</span><span class="o">::</span><span class="ut">table</span><span class="w"> </span><span class="n">tbl</span><span class="p">;</span>
<span class="w">    </span><span class="k">try</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">tbl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ns">toml</span><span class="o">::</span><span class="n">parse_file</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
<span class="w">            </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">tbl</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="ns">toml</span><span class="o">::</span><span class="ut"><a class="m-doc poxy-injected" href="classtoml_1_1parse__error.html">parse_error</a></span><span class="o">&amp;</span><span class="w"> </span><span class="n">err</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="ns">std</span><span class="o">::</span><span class="ut">cerr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Parsing failed:</span><span class="se">\n</span><span class="s">"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></pre><aside class="m-note m-default"><h4>See also</h4><ul><li><a class="m-doc" href="namespacetoml.html#a8dbc58dad43c3b66f4476a7131f5741a">toml::<wbr/>parse_file()</a></li><li><a class="m-doc" href="classtoml_1_1table.html">toml::<wbr/>table</a></li><li><a class="m-doc" href="classtoml_1_1parse__error.html">toml::<wbr/>parse_error</a></li></ul></aside></section><section id="mainpage-example-parsing-strings"><h3><a href="#mainpage-example-parsing-strings">Parsing strings and iostreams</a></h3><p>Call <a class="m-doc" href="namespacetoml.html#ada8654fb4ceef15c20fc1d5e0cc734dd">toml::<wbr/>parse()</a> and work with the <a class="m-doc" href="classtoml_1_1table.html">toml::<wbr/>table</a> you get back, or handle any <a class="m-doc" href="classtoml_1_1parse__error.html">toml::<wbr/>parse_error</a> that gets thrown:</p><pre class="m-code"><p class="m-note m-success godbolt"><a class="poxy-external godbolt" href="https://godbolt.org/z/NsR-xf" target="_blank">Try this code on Compiler Explorer</a></p><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sstream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;toml++/toml.h&gt;</span>
<span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="o">::</span><span class="nn">string_view_literals</span><span class="p">;</span>

<span class="k">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="ns">std</span><span class="o">::</span><span class="ut">string_view</span><span class="w"> </span><span class="n">some_toml</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">R</span><span class="s">"</span><span class="dl">(</span>
<span class="s">        [library]</span>
<span class="s">        name = "toml++"</span>
<span class="s">        authors = ["Mark Gillard &lt;mark.gillard@outlook.com.au&gt;"]</span>
<span class="s">        cpp = 17</span>
<span class="s">    </span><span class="dl">)</span><span class="s">"</span><span class="sa">sv</span><span class="p">;</span>

<span class="w">    </span><span class="k">try</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// parse directly from a string view:</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="ns">toml</span><span class="o">::</span><span class="ut">table</span><span class="w"> </span><span class="n">tbl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ns">toml</span><span class="o">::</span><span class="n">parse</span><span class="p">(</span><span class="n">some_toml</span><span class="p">);</span>
<span class="w">            </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">tbl</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// parse from a string stream:</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="ns">std</span><span class="o">::</span><span class="ut">stringstream</span><span class="w"> </span><span class="n">ss</span><span class="p">{</span><span class="w"> </span><span class="ns">std</span><span class="o">::</span><span class="ut">string</span><span class="p">{</span><span class="w"> </span><span class="n">some_toml</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">};</span>
<span class="w">            </span><span class="ns">toml</span><span class="o">::</span><span class="ut">table</span><span class="w"> </span><span class="n">tbl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ns">toml</span><span class="o">::</span><span class="n">parse</span><span class="p">(</span><span class="n">ss</span><span class="p">);</span>
<span class="w">            </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">tbl</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="ns">toml</span><span class="o">::</span><span class="ut"><a class="m-doc poxy-injected" href="classtoml_1_1parse__error.html">parse_error</a></span><span class="o">&amp;</span><span class="w"> </span><span class="n">err</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="ns">std</span><span class="o">::</span><span class="ut">cerr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Parsing failed:</span><span class="se">\n</span><span class="s">"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></pre><pre class="m-console"><span class="go">[library]</span>
<span class="go">authors = [ 'Mark Gillard &lt;mark.gillard@outlook.com.au&gt;' ]</span>
<span class="go">cpp = 17</span>
<span class="go">name = 'toml++'</span>

<span class="go">[library]</span>
<span class="go">authors = [ 'Mark Gillard &lt;mark.gillard@outlook.com.au&gt;' ]</span>
<span class="go">cpp = 17</span>
<span class="go">name = 'toml++'</span></pre><aside class="m-note m-default"><h4>See also</h4><ul><li><a class="m-doc" href="namespacetoml.html#a8dbc58dad43c3b66f4476a7131f5741a">toml::<wbr/>parse_file()</a></li><li><a class="m-doc" href="classtoml_1_1table.html">toml::<wbr/>table</a></li><li><a class="m-doc" href="classtoml_1_1parse__error.html">toml::<wbr/>parse_error</a></li></ul></aside></section><section id="mainpage-example-parsing-without-exceptions"><h3><a href="#mainpage-example-parsing-without-exceptions">Handling errors without exceptions</a></h3><p>Can't (or won't) use exceptions? That's fine too. You can disable exceptions in your compiler flags and/or explicitly disable the library's use of them by setting the option <a class="m-doc" href="group__configuration.html#ga93097ecd88ca4bca393f60a78bda643b">TOML_<wbr/>EXCEPTIONS</a> to <code>0</code>. In either case, the parsing functions return a <a class="m-doc" href="classtoml_1_1parse__result.html">toml::<wbr/>parse_result</a> instead of a <a class="m-doc" href="classtoml_1_1table.html">toml::<wbr/>table</a>:</p><pre class="m-code"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>

<span class="cp">#define TOML_EXCEPTIONS 0 </span><span class="c1">// only necessary if you've left them enabled in your compiler</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;toml++/toml.h&gt;</span>

<span class="k">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="ns">toml</span><span class="o">::</span><span class="ut"><a class="m-doc poxy-injected" href="classtoml_1_1parse__result.html">parse_result</a></span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ns">toml</span><span class="o">::</span><span class="n">parse_file</span><span class="p">(</span><span class="s">"configuration.toml"</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">result</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="ns">std</span><span class="o">::</span><span class="ut">cerr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Parsing failed:</span><span class="se">\n</span><span class="s">"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="n">error</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">do_stuff_with_your_config</span><span class="p">(</span><span class="ns">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">result</span><span class="p">).</span><span class="n">table</span><span class="p">());</span><span class="w"> </span><span class="c1">// 'steal' the table from the result</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></pre></section><section id="mainpage-example-custom-error-formatting"><h3><a href="#mainpage-example-custom-error-formatting">Custom error formatting</a></h3><p>The examples above use an overloaded <code>operator&lt;&lt;</code> with ostreams to print basic error messages, and look like this:</p><pre class="m-console"><span class="go">Error while parsing key: expected bare key starting character or string delimiter, saw '?'</span>
<span class="go">    (error occurred at line 2, column 5)</span></pre><p>The library doesn't natively support error colouring in TTY environments, but instead provides the requisite information for you to build that and any other custom error handling yourself if necessary via <a class="m-doc" href="classtoml_1_1parse__error.html">toml::<wbr/>parse_error</a>'s source() and description() members:</p><pre class="m-code"><span class="ns">toml</span><span class="o">::</span><span class="ut">table</span><span class="w"> </span><span class="n">tbl</span><span class="p">;</span>
<span class="k">try</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">tbl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ns">toml</span><span class="o">::</span><span class="n">parse_file</span><span class="p">(</span><span class="s">"configuration.toml"</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="ns">toml</span><span class="o">::</span><span class="ut"><a class="m-doc poxy-injected" href="classtoml_1_1parse__error.html">parse_error</a></span><span class="o">&amp;</span><span class="w"> </span><span class="n">err</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">cerr</span>
<span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Error parsing file '"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">*</span><span class="n">err</span><span class="p">.</span><span class="n">source</span><span class="p">().</span><span class="n">path</span>
<span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"':</span><span class="se">\n</span><span class="s">"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">err</span><span class="p">.</span><span class="n">description</span><span class="p">()</span>
<span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">  ("</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">err</span><span class="p">.</span><span class="n">source</span><span class="p">().</span><span class="n">begin</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">")</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span></pre><aside class="m-note m-default"><h4>See also</h4><ul><li><a class="m-doc" href="classtoml_1_1parse__error.html">toml::<wbr/>parse_error</a></li><li><a class="m-doc" href="structtoml_1_1source__region.html">toml::<wbr/>source_region</a></li><li><a class="m-doc" href="structtoml_1_1source__position.html">toml::<wbr/>source_position</a></li></ul></aside></section><section id="mainpage-example-manipulations"><h3><a href="#mainpage-example-manipulations">Working with TOML data</a></h3><p>A TOML document is a tree of values, arrays and tables, represented as the <a class="m-doc" href="classtoml_1_1value.html">toml::<wbr/>value</a>, <a class="m-doc" href="classtoml_1_1array.html">toml::<wbr/>array</a> and <a class="m-doc" href="classtoml_1_1table.html">toml::<wbr/>table</a>, respectively. All three inherit from <a class="m-doc" href="classtoml_1_1node.html">toml::<wbr/>node</a>, and can be easily accessed via the <a class="m-doc" href="classtoml_1_1node__view.html">toml::<wbr/>node_view</a>:</p><pre class="m-code"><p class="m-note m-success godbolt"><a class="poxy-external godbolt" href="https://godbolt.org/z/TnevafTKd" target="_blank">Try this code on Compiler Explorer</a></p><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;toml++/toml.h&gt;</span>
<span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="o">::</span><span class="nn">string_view_literals</span><span class="p">;</span>

<span class="k">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">R</span><span class="s">"</span><span class="dl">(</span>
<span class="s">        str = "hello world"</span>

<span class="s">        numbers = [ 1, 2, 3, "four", 5.0 ]</span>
<span class="s">        vegetables = [ "tomato", "onion", "mushroom", "lettuce" ]</span>
<span class="s">        minerals = [ "quartz", "iron", "copper", "diamond" ]</span>

<span class="s">        [animals]</span>
<span class="s">        cats = [ "tiger", "lion", "puma" ]</span>
<span class="s">        birds = [ "macaw", "pigeon", "canary" ]</span>
<span class="s">        fish = [ "salmon", "trout", "carp" ]</span>

<span class="s">    </span><span class="dl">)</span><span class="s">"</span><span class="sa">sv</span><span class="p">;</span>
<span class="w">    </span><span class="ns">toml</span><span class="o">::</span><span class="ut">table</span><span class="w"> </span><span class="n">tbl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ns">toml</span><span class="o">::</span><span class="n">parse</span><span class="p">(</span><span class="n">source</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// different ways of directly querying data</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">optional</span><span class="o">&lt;</span><span class="ns">std</span><span class="o">::</span><span class="ut">string_view</span><span class="o">&gt;</span><span class="w"> </span><span class="n">str1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tbl</span><span class="p">[</span><span class="s">"str"</span><span class="p">].</span><span class="n">value</span><span class="o">&lt;</span><span class="ns">std</span><span class="o">::</span><span class="ut">string_view</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">optional</span><span class="o">&lt;</span><span class="ns">std</span><span class="o">::</span><span class="ut">string</span><span class="o">&gt;</span><span class="w">      </span><span class="n">str2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tbl</span><span class="p">[</span><span class="s">"str"</span><span class="p">].</span><span class="n">value</span><span class="o">&lt;</span><span class="ns">std</span><span class="o">::</span><span class="ut">string</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">string_view</span><span class="w">                </span><span class="n">str3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tbl</span><span class="p">[</span><span class="s">"str"</span><span class="p">].</span><span class="n">value_or</span><span class="p">(</span><span class="s">""</span><span class="sa">sv</span><span class="p">);</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">string</span><span class="o">&amp;</span><span class="w">                    </span><span class="n">str4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tbl</span><span class="p">[</span><span class="s">"str"</span><span class="p">].</span><span class="n">ref</span><span class="o">&lt;</span><span class="ns">std</span><span class="o">::</span><span class="ut">string</span><span class="o">&gt;</span><span class="p">();</span><span class="w"> </span><span class="c1">// ~~dangerous~~</span>

<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">*</span><span class="n">str1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">*</span><span class="n">str2</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">str3</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">str4</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// get a <a class="m-doc poxy-injected" href="classtoml_1_1node__view.html">toml::node_view</a> of the element 'numbers' using operator[]</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tbl</span><span class="p">[</span><span class="s">"numbers"</span><span class="p">];</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"table has 'numbers': "</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">!!</span><span class="n">numbers</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"numbers is an: "</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">numbers</span><span class="p">.</span><span class="n">type</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"numbers: "</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// get the underlying array object to do some more advanced stuff</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ns">toml</span><span class="o">::</span><span class="ut">array</span><span class="o">*</span><span class="w"> </span><span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">numbers</span><span class="p">.</span><span class="n">as_array</span><span class="p">())</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// visitation with for_each() helps deal with heterogeneous data</span>
<span class="w">        </span><span class="n">arr</span><span class="o">-&gt;</span><span class="n">for_each</span><span class="p">([](</span><span class="k">auto</span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">el</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="p">(</span><span class="ns">toml</span><span class="o">::</span><span class="n">is_number</span><span class="o">&lt;</span><span class="k">decltype</span><span class="p">(</span><span class="n">el</span><span class="p">)</span><span class="o">&gt;</span><span class="p">)</span>
<span class="w">                </span><span class="p">(</span><span class="o">*</span><span class="n">el</span><span class="p">)</span><span class="o">++</span><span class="p">;</span>
<span class="w">            </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="p">(</span><span class="ns">toml</span><span class="o">::</span><span class="n">is_string</span><span class="o">&lt;</span><span class="k">decltype</span><span class="p">(</span><span class="n">el</span><span class="p">)</span><span class="o">&gt;</span><span class="p">)</span>
<span class="w">                </span><span class="n">el</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"five"</span><span class="sa">sv</span><span class="p">;</span>
<span class="w">        </span><span class="p">});</span>

<span class="w">        </span><span class="c1">// arrays are very similar to <a class="m-doc poxy-injected poxy-external" href="https://en.cppreference.com/w/cpp/container/vector" target="_blank">std::vector</a></span>
<span class="w">        </span><span class="n">arr</span><span class="o">-&gt;</span><span class="n">push_back</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>
<span class="w">        </span><span class="n">arr</span><span class="o">-&gt;</span><span class="n">emplace_back</span><span class="o">&lt;</span><span class="ns">toml</span><span class="o">::</span><span class="ut">array</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">);</span>
<span class="w">        </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"numbers: "</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// node-views can be chained to quickly query deeper</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"cats: "</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">tbl</span><span class="p">[</span><span class="s">"animals"</span><span class="p">][</span><span class="s">"cats"</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"fish[1]: "</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">tbl</span><span class="p">[</span><span class="s">"animals"</span><span class="p">][</span><span class="s">"fish"</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// can also be retrieved via absolute path</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"cats: "</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">tbl</span><span class="p">.</span><span class="n">at_path</span><span class="p">(</span><span class="s">"animals.cats"</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"fish[1]: "</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">tbl</span><span class="p">.</span><span class="n">at_path</span><span class="p">(</span><span class="s">"animals.fish[1]"</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// ...even if the element doesn't exist</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"dinosaurs: "</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">tbl</span><span class="p">[</span><span class="s">"animals"</span><span class="p">][</span><span class="s">"dinosaurs"</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span><span class="w"> </span><span class="c1">//no dinosaurs :(</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></pre><pre class="m-console"><span class="go">hello world</span>
<span class="go">hello world</span>
<span class="go">hello world</span>
<span class="go">hello world</span>
<span class="go">table has 'numbers': 1</span>
<span class="go">numbers is an: array</span>
<span class="go">numbers: [ 1, 2, 3, 'four', 5.0 ]</span>
<span class="go">numbers: [ 2, 3, 4, 'five', 6.0, 7, [ 8, 9 ] ]</span>
<span class="go">cats: [ 'tiger', 'lion', 'puma' ]</span>
<span class="go">fish[1]: 'trout'</span>
<span class="go">dinosaurs:</span></pre><aside class="m-note m-default"><h4>See also</h4><ul><li><a class="m-doc" href="classtoml_1_1node.html">toml::<wbr/>node</a></li><li><a class="m-doc" href="classtoml_1_1node__view.html">toml::<wbr/>node_view</a></li><li><a class="m-doc" href="classtoml_1_1value.html">toml::<wbr/>value</a></li><li><a class="m-doc" href="classtoml_1_1array.html">toml::<wbr/>array</a></li><li><a class="m-doc" href="classtoml_1_1table.html">toml::<wbr/>table</a></li></ul></aside></section><section id="mainpage-example-serialization"><h3><a href="#mainpage-example-serialization">Serializing as TOML, JSON and YAML</a></h3><p>All toml++ data types have overloaded <code>operator&lt;&lt;</code> for ostreams, so 'serializing' a set of TOML data to actual TOML is done just by printing it to an ostream. Converting it to JSON and YAML is done in much the same way, but via a <a class="m-doc" href="classtoml_1_1json__formatter.html">toml::<wbr/>json_formatter</a> and <a class="m-doc" href="classtoml_1_1yaml__formatter.html">toml::<wbr/>yaml_formatter</a>.</p><pre class="m-code"><p class="m-note m-success godbolt"><a class="poxy-external godbolt" href="https://godbolt.org/z/srdfoWMq6" target="_blank">Try this code on Compiler Explorer</a></p><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;toml++/toml.h&gt;</span>

<span class="k">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">tbl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ns">toml</span><span class="o">::</span><span class="ut">table</span><span class="p">{</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="s">"lib"</span><span class="p">,</span><span class="w"> </span><span class="s">"toml++"</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="s">"cpp"</span><span class="p">,</span><span class="w"> </span><span class="ns">toml</span><span class="o">::</span><span class="ut">array</span><span class="p">{</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="s">"and beyond"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="s">"toml"</span><span class="p">,</span><span class="w"> </span><span class="ns">toml</span><span class="o">::</span><span class="ut">array</span><span class="p">{</span><span class="w"> </span><span class="s">"1.0.0"</span><span class="p">,</span><span class="w"> </span><span class="s">"and beyond"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="s">"repo"</span><span class="p">,</span><span class="w"> </span><span class="s">"https://github.com/marzer/tomlplusplus/"</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="s">"author"</span><span class="p">,</span><span class="w"> </span><span class="ns">toml</span><span class="o">::</span><span class="ut">table</span><span class="p">{</span>
<span class="w">                </span><span class="p">{</span><span class="w"> </span><span class="s">"name"</span><span class="p">,</span><span class="w"> </span><span class="s">"Mark Gillard"</span><span class="w"> </span><span class="p">},</span>
<span class="w">                </span><span class="p">{</span><span class="w"> </span><span class="s">"github"</span><span class="p">,</span><span class="w"> </span><span class="s">"https://github.com/marzer"</span><span class="w"> </span><span class="p">},</span>
<span class="w">                </span><span class="p">{</span><span class="w"> </span><span class="s">"twitter"</span><span class="p">,</span><span class="w"> </span><span class="s">"https://twitter.com/marzer8789"</span><span class="w"> </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">};</span>

<span class="w">    </span><span class="c1">// serializing as TOML</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"###### TOML ######"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">tbl</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n\n</span><span class="s">"</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// serializing as JSON using <a class="m-doc poxy-injected" href="classtoml_1_1json__formatter.html">toml::json_formatter</a>:</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"###### JSON ######"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="ns">toml</span><span class="o">::</span><span class="ut"><a class="m-doc poxy-injected" href="classtoml_1_1json__formatter.html">json_formatter</a></span><span class="p">{</span><span class="w"> </span><span class="n">tbl</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n\n</span><span class="s">"</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// serializing as YAML using <a class="m-doc poxy-injected" href="classtoml_1_1yaml__formatter.html">toml::yaml_formatter</a>:</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"###### YAML ######"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="ns">std</span><span class="o">::</span><span class="ut">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="ns">toml</span><span class="o">::</span><span class="ut"><a class="m-doc poxy-injected" href="classtoml_1_1yaml__formatter.html">yaml_formatter</a></span><span class="p">{</span><span class="w"> </span><span class="n">tbl</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n\n</span><span class="s">"</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></pre><pre class="m-console"><span class="gp">#</span><span class="c1">##### TOML ######</span>

<span class="go">cpp = [ 17, 20, 'and beyond' ]</span>
<span class="go">lib = 'toml++'</span>
<span class="go">repo = 'https://github.com/marzer/tomlplusplus/'</span>
<span class="go">toml = [ '1.0.0', 'and beyond' ]</span>

<span class="go">[author]</span>
<span class="go">github = 'https://github.com/marzer'</span>
<span class="go">name = 'Mark Gillard'</span>
<span class="go">twitter = 'https://twitter.com/marzer8789'</span>

<span class="gp">#</span><span class="c1">##### JSON ######</span>

<span class="go">{</span>
<span class="go">    "author" : {</span>
<span class="go">        "github" : "https://github.com/marzer",</span>
<span class="go">        "name" : "Mark Gillard",</span>
<span class="go">        "twitter" : "https://twitter.com/marzer8789"</span>
<span class="go">    },</span>
<span class="go">    "cpp" : [</span>
<span class="go">        17,</span>
<span class="go">        20,</span>
<span class="go">        "and beyond"</span>
<span class="go">    ],</span>
<span class="go">    "lib" : "toml++",</span>
<span class="go">    "repo" : "https://github.com/marzer/tomlplusplus/",</span>
<span class="go">    "toml" : [</span>
<span class="go">        "1.0.0",</span>
<span class="go">        "and beyond"</span>
<span class="go">    ]</span>
<span class="go">}</span>

<span class="gp">#</span><span class="c1">##### YAML ######</span>

<span class="go">author:</span>
<span class="go">  github: 'https://github.com/marzer'</span>
<span class="go">  name: 'Mark Gillard'</span>
<span class="go">  twitter: 'https://twitter.com/marzer8789'</span>
<span class="go">cpp:</span>
<span class="go">  - 17</span>
<span class="go">  - 20</span>
<span class="go">  - 'and beyond'</span>
<span class="go">lib: 'toml++'</span>
<span class="go">repo: 'https://github.com/marzer/tomlplusplus/'</span>
<span class="go">toml:</span>
<span class="go">  - '1.0.0'</span>
<span class="go">  - 'and beyond'</span></pre><aside class="m-note m-default"><h4>See also</h4><ul><li><a class="m-doc" href="classtoml_1_1toml__formatter.html">toml::<wbr/>toml_formatter</a></li><li><a class="m-doc" href="classtoml_1_1json__formatter.html">toml::<wbr/>json_formatter</a></li><li><a class="m-doc" href="classtoml_1_1yaml__formatter.html">toml::<wbr/>yaml_formatter</a></li></ul></aside></section><section id="mainpage-example-speed-up-compilation"><h3><a href="#mainpage-example-speed-up-compilation">Speeding up compilation</a></h3><p>Because toml++ is a header-only library of nontrivial size you might find that compilation times noticeably increase after you add it to your project, especially if you add the library's header somewhere that's visible from a large number of translation units. You can counter this by disabling header-only mode and explicitly controlling where the library's implementation is compiled.</p><p><strong>Step 1: Set <a class="m-doc" href="group__configuration.html#ga8219bfd7e75587516385b6022b28abc2">TOML_<wbr/>HEADER_<wbr/>ONLY</a> to <code>0</code> before including toml++</strong></p><p>This must be the same everywhere, so either set it as a global <code>#define</code> in your build system, or do it manually before including toml++ in some global header that's used everywhere in your project:</p><pre class="m-code"><span class="c1">// global_header_that_includes_toml++.h</span>

<span class="cp">#define TOML_HEADER_ONLY 0</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;toml.hpp&gt;</span></pre><p><strong>Step 2: Define <a class="m-doc" href="group__configuration.html#ga27ee69835a1ddff9dbaf3015b4b08a11">TOML_<wbr/>IMPLEMENTATION</a> before including toml++ in one specific translation unit</strong></p><pre class="m-code"><span class="c1">// some_code_file.cpp</span>

<span class="cp">#define TOML_IMPLEMENTATION</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">"global_header_that_includes_toml++.h"</span></pre><p><strong>Bonus Step: Disable any library features you don't need</strong></p><p>Some library features can be disabled wholesale so you can avoid paying their the compilation cost if you don't need them. For example, if all you need to do is serialize some code-generated TOML and don't actually need the parser at all you, can set <a class="m-doc" href="group__configuration.html#ga121912d75d4624de6ab6854e41d8a852">TOML_<wbr/>ENABLE_<wbr/>PARSER</a> to <code>0</code> to disable the parser altogether. This can yield fairly significant compilation speedups since the parser accounts for a good chunk of the library's code.</p><aside class="m-note m-default"><h4>See also</h4><p><a class="m-doc" href="group__configuration.html">Library Configuration</a></p></aside></section></section><section id="mainpage-adding-lib"><h2><a href="#mainpage-adding-lib">Adding toml++ to your project</a></h2><p class="m-note m-default">The library comes in two flavours, 🍦️ Single-header and 🍨️ Regular. The API is the same for both.</p><section id="mainpage-adding-lib-old-school"><h3><a href="#mainpage-adding-lib-old-school">"The old fashioned way"</a></h3><h4>🍦️ Single-header flavour</h4><ol><li>Drop <a class="poxy-external" href="https://raw.githubusercontent.com/marzer/tomlplusplus/master/toml.hpp" target="_blank">toml.hpp</a> wherever you like in your source tree</li><li>There is no step two</li></ol><h4>🍨️ Regular flavour</h4><ol><li>Clone <a class="poxy-external" href="https://github.com/marzer/tomlplusplus" target="_blank">the repository</a> from GitHub</li><li>Add <code>tomlplusplus/include</code> to your include paths</li><li><code>#include &lt;toml++/toml.h&gt;</code></li></ol></section><section id="mainpage-adding-lib-conan"><h3><a href="#mainpage-adding-lib-conan">Conan</a></h3><p>Add <code>tomlplusplus/3.1.0</code> to your conanfile.</p></section><section id="mainpage-adding-lib-dds"><h3><a href="#mainpage-adding-lib-dds">DDS</a></h3><p>Add <code>tomlpp</code> to your <code>package.json5</code>, e.g.:</p><pre class="m-code">depends: <span class="o">[</span>
    <span class="s1">'tomlpp^3.1.0'</span>,
<span class="o">]</span></pre><aside class="m-note m-default"><h4>See also</h4><p><a class="poxy-external" href="https://dds.pizza/" target="_blank">What is DDS?</a></p></aside></section><section id="mainpage-adding-lib-meson"><h3><a href="#mainpage-adding-lib-meson">Meson</a></h3><p>You can install the wrap with:</p><pre class="m-code">meson wrap install tomlplusplus</pre><p>After that, you can use it like a regular dependency:</p><pre class="m-code"><span class="n">tomlplusplus_dep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dependency</span><span class="p">(</span><span class="err">'</span><span class="n">tomlplusplus</span><span class="err">'</span><span class="p">)</span></pre><p>You can also add it as a subproject directly.</p></section><section id="mainpage-adding-lib-tipi"><h3><a href="#mainpage-adding-lib-tipi">Tipi.build</a></h3><p><code>tomlplusplus</code> can be easily used in <a class="poxy-external" href="https://tipi.build" target="_blank">tipi.build</a> projects by adding the following entry to your <code>.tipi/deps</code>:</p><pre class="m-code"><span class="o">{</span>
    <span class="s2">"marzer/tomlplusplus"</span>: <span class="o">{</span> <span class="o">}</span>
<span class="o">}</span></pre></section><section id="mainpage-adding-lib-vcpkg"><h3><a href="#mainpage-adding-lib-vcpkg">Vcpkg</a></h3><pre class="m-code">vcpkg install tomlplusplus</pre></section><section id="mainpage-adding-lib-cmake-fetch-content"><h3><a href="#mainpage-adding-lib-cmake-fetch-content">CMake FetchContent</a></h3><pre class="m-code"><span class="nb">include</span><span class="p">(</span><span class="s">FetchContent</span><span class="p">)</span>
<span class="nb">FetchContent_Declare</span><span class="p">(</span>
<span class="w">    </span><span class="s">tomlplusplus</span>
<span class="w">    </span><span class="s">GIT_REPOSITORY</span><span class="w"> </span><span class="s">https://github.com/marzer/tomlplusplus.git</span>
<span class="w">    </span><span class="s">GIT_TAG</span><span class="w">        </span><span class="s">v3.1.0</span>
<span class="p">)</span>
<span class="nb">FetchContent_MakeAvailable</span><span class="p">(</span><span class="s">tomlplusplus</span><span class="p">)</span></pre><aside class="m-note m-default"><h4>See also</h4><p><a class="poxy-external" href="https://cmake.org/cmake/help/latest/module/FetchContent.html" target="_blank">What is FetchContent?</a></p></aside></section><section id="mainpage-adding-lib-git-submodules"><h3><a href="#mainpage-adding-lib-git-submodules">Git submodules</a></h3><pre class="m-code">git submodule add --depth <span class="m">1</span> https://github.com/marzer/tomlplusplus.git tomlplusplus
git config -f .gitmodules submodule.tomlplusplus.shallow <span class="k">true</span></pre><aside class="m-note m-info"><h4>Note</h4><p>The toml++ repository has some submodules of its own, but <strong>they are only used for testing</strong>! You should not use the <code>--recursive</code> option for regular library consumption.</p></aside></section><section id="mainpage-adding-lib-other"><h3><a href="#mainpage-adding-lib-other">Other environments and package managers</a></h3><p>The C++ tooling ecosystem is a fractal nightmare of unbridled chaos so naturally I'm not up-to-speed with all of the available packaging and integration options. I'm always happy to see new ones supported, though! If there's some integration you'd like to see and have the technical know-how to make it happen, feel free to make a pull request.</p></section><section id="mainpage-adding-lib-python"><h3><a href="#mainpage-adding-lib-python">Special mention: Python</a></h3><p>There exists a python wrapper library built around toml++ called <a class="poxy-external" href="https://github.com/bobfang1992/pytomlpp" target="_blank">pytomlpp</a> which is, at the time of writing, the one of only two natively-compiled TOML libraries available for python, and thus one of the fastest options available:</p><pre class="m-console"><span class="go">Parsing data.toml 5000 times:</span>
<span class="go">    pytomlpp:  0.694 s</span>
<span class="go">    rtoml:     0.871 s ( 1.25x)</span>
<span class="go">    tomli:     2.625 s ( 3.78x)</span>
<span class="go">    toml:      5.642 s ( 8.12x)</span>
<span class="go">    qtoml:     7.760 s (11.17x)</span>
<span class="go">    tomlkit:  32.708 s (47.09x)</span></pre><p>Install it using <code>pip</code>:</p><pre class="m-code">pip install pytomlpp</pre><p>Note that I'm not the owner of that project so if you wish to report a bug relating to the python implementation, please do so at their repository, not on the main toml++ one.</p></section></section><section id="mainpage-configuration"><h2><a href="#mainpage-configuration">Library configuration options</a></h2><p>The library exposes a number of configuration options in the form of compiler <code>#defines</code>. Things like changing the <code>optional&lt;T&gt;</code> type, disabling header-only mode, et cetera. The full list of configurables can be found on the <a class="m-doc" href="group__configuration.html">Library Configuration</a> page.</p><aside class="m-note m-default"><h4>See also</h4><p><a class="m-doc" href="group__configuration.html">Library Configuration</a></p></aside></section><section id="mainpage-contributing"><h2><a href="#mainpage-contributing">Contributing</a></h2><p>Contributions are very welcome! Either by <a class="poxy-external" href="https://github.com/marzer/tomlplusplus/issues" target="_blank">reporting issues</a> or submitting pull requests. If you wish to submit a pull request, please see <a class="poxy-external" href="https://github.com/marzer/tomlplusplus/blob/master/CONTRIBUTING.md" target="_blank">CONTRIBUTING</a> for all the details you need to get going.</p></section><section id="mainpage-license"><h2><a href="#mainpage-license">License</a></h2><p>toml++ is licensed under the terms of the MIT license - see <a class="poxy-external" href="https://github.com/marzer/tomlplusplus/blob/master/LICENSE" target="_blank">LICENSE</a>.</p><p class="m-note m-default">If you're using the single-header version of the library you don't need to explicitly distribute the license file; it is embedded in the preamble at the top of the header.</p></section><section id="mainpage-contact"><h2><a href="#mainpage-contact">Contacting the author</a></h2><p>For bug reports and feature requests please use the <a class="poxy-external" href="https://github.com/marzer/tomlplusplus/issues" target="_blank">Github Issues</a> system. For anything else you're welcome to reach out via other means. In order of likely response speed:</p><ul><li>Twitter: <a class="poxy-external" href="https://twitter.com/marzer8789" target="_blank">marzer8789</a></li><li>Email: <a class="poxy-external" href="mailto:mark.gillard@outlook.com.au" target="_blank">mark.gillard@outlook.com.au</a></li><li>Facebook: <a class="poxy-external" href="https://www.facebook.com/marzer" target="_blank">marzer</a></li><li>LinkedIn: <a class="poxy-external" href="https://www.linkedin.com/in/marzer/" target="_blank">marzer</a></li></ul></section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">…</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input autocomplete="off" autofocus="autofocus" disabled="disabled" id="search-input" name="q" placeholder="Loading …" spellcheck="false" type="search"/>
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div class="m-text m-dim m-text-center" id="search-help">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">↓</span>
            / <span class="m-label m-dim">↑</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div class="m-text m-warning m-text-center" id="search-notfound">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v2.js"></script>
<script async="async" src="searchdata-v2.js"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        
    <a class="poxy-external" href="https://github.com/marzer/tomlplusplus/" target="_blank">Github</a>
     • <a class="poxy-external" href="https://github.com/marzer/tomlplusplus/issues" target="_blank">Report an issue</a>
     • <a class="poxy-external" href="https://github.com/marzer/tomlplusplus/blob/master/LICENSE" target="_blank">License</a>
     • <a download="" href="toml++.tagfile.xml" target="_blank" type="text/xml">Doxygen tagfile</a>
    <br/><br/>
    Site generated using <a class="poxy-external" href="https://github.com/marzer/poxy/" target="_blank">Poxy</a>

      </div>
    </div>
  </div>
</nav></footer>


</body></html>